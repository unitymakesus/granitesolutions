"use strict";!function(o,t){o.validator.addMethod("matadorMaxsize",function(t,e,a){if(this.optional(e))return!0;if("file"===o(e).attr("type")&&e.files&&e.files.length)for(var i=0;i<e.files.length;i++)if(e.files[i].size>a)return!1;return!0},o.validator.format("File size must not exceed {0} bytes each.")),o.validator.addMethod("matadorExtension",function(t,e,a){return a="string"==typeof a?a.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+a+")$","i"))},o.validator.format("Please enter a value with a valid extension.")),o("#matador-application-form").validate({submitHandler:function(){return o("[name='submit']").attr("disabled",!0).addClass("madator-disabled"),o("#matador-upload-overlay").show(),!0}}),o(".inputfile").each(function(){var t=o(this);t.rules("add",{matadorMaxsize:1048576,matadorExtension:"pdf|doc|docx|html|htm|txt"}),t.on("change",function(t){var e="",a=o(t.target).prev("label"),i=a.html();this.files&&1<this.files.length?e=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):t.target.value&&(e=t.target.value.split("\\").pop()),e?a.find("span").html(e):a.html(i)}),t.on("focus",function(){t.addClass("has-focus")}).on("blur",function(){t.removeClass("has-focus")})}),o('.matador-terms-select select[data-method="link"], .matador-terms-select select[data-method="filter"]').each(function(){o(this).on("change",function(){t.location=o(this).find("option:selected").data("url")})})}(jQuery,window);